# /etc/systemd/system/jw_dev_boot.service
[Unit]
Description=Junk-Warehouse Dev Boot (frontend build + preview, backend run)
After=network.target
# Drop a flag file to skip autostart:
ConditionPathExists=!/root/.jw_dev_disabled

[Service]
Type=simple
User=root
WorkingDirectory=/root/Junk-Warehouse
EnvironmentFile=-/etc/default/jw_dev_boot
# Run through a login shell so nvm etc. work if you use them
ExecStart=/bin/bash -lc '/root/Junk-Warehouse/scripts/jw_dev_boot.sh'
ExecStop=/bin/kill -s INT $MAINPID
KillSignal=SIGINT
TimeoutStopSec=20
Restart=on-failure
RestartSec=3

[Install]
WantedBy=multi-user.target
